<episjob-h2 data="List of contracts" icon="class" padtop="0" [showSearch]="true" (filter)="filter($event)"></episjob-h2>    
<div *ngIf="sortedData.length==0">No Data</div>    
<table *ngIf="sortedData.length>0" mat-table [dataSource]="sortedData" matSort (matSortChange)="sortData($event)" class="mat-elevation-z2">
    <ng-container matColumnDef="sn">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> s/n </th>
        <td mat-cell *matCellDef="let element" class="cursor" (click)="openRig(element.sn)"> {{element.sn}} </td>
    </ng-container>
    <ng-container matColumnDef="model" >
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Model </th>
        <td mat-cell *matCellDef="let element"> {{element.model}} </td>
        </ng-container>
    <ng-container matColumnDef="customer">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Customer </th>
        <td mat-cell *matCellDef="let element" class="cursor" (click)="openCust(element.custCode)"> {{element.customer}} </td>
    </ng-container>
    <ng-container matColumnDef="type">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Type </th>
        <td mat-cell *matCellDef="let element" class="cursor" (click)="add(element)"> {{element.type}} </td>
    </ng-container>
    <ng-container matColumnDef="start">
        <th mat-header-cell *matHeaderCellDef mat-sort-header class="cen"> Start </th>
        <td mat-cell *matCellDef="let element" class="cen"> {{element.start | dateconv}} </td>
    </ng-container>
    <ng-container matColumnDef="end" >
        <th mat-header-cell *matHeaderCellDef mat-sort-header class="cen"> End </th>
        <td mat-cell *matCellDef="let element" class="cen"> {{element.end | dateconv}} </td>
    </ng-container>
    <ng-container matColumnDef="left" >
        <th mat-header-cell *matHeaderCellDef mat-sort-header class="cen"> Days </th>
        <td mat-cell *matCellDef="let element"> 
            <div class="icoCont">
                <mat-icon [ngStyle]="{'color':element.daysleft<6?'red':element.daysleft<31?'orange':'green'}">circle</mat-icon>
                <span>{{element.daysleft}}</span>
            </div>
        </td>
    </ng-container>
    <ng-container matColumnDef="attachment">
        <th mat-header-cell *matHeaderCellDef>  </th>
        <td mat-cell *matCellDef="let element" class="actions" (click)="att(element)" matTooltip="Manage attachments"> <mat-icon [ngClass]="{'light':!element.att || element.att==0}">attach_file</mat-icon></td>
    </ng-container>
    <ng-container matColumnDef="edit">
        <th mat-header-cell *matHeaderCellDef>  </th>
        <td mat-cell *matCellDef="let element" class="actions" (click)="add(element)" matTooltip="Edit Contract"> <mat-icon >edit</mat-icon> </td>
    </ng-container>
    <ng-container matColumnDef="delete">
        <th mat-header-cell *matHeaderCellDef>  </th>
        <td mat-cell *matCellDef="let element; let i = index" class="actions" (click)="delete(element)" matTooltip="Delete Contract"> <mat-icon>delete</mat-icon> </td>
    </ng-container>
    <ng-container matColumnDef="archive">
        <th mat-header-cell *matHeaderCellDef>  </th>
        <td mat-cell *matCellDef="let element; let i = index" class="actions" (click)="archive(element)" matTooltip="Archive Contract"> <mat-icon>archive</mat-icon> </td>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>